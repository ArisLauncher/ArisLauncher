"use strict";function ajax(e,t){var r=t||{},a=r.fetchAs||"text";return new Promise(function(t,s){var n=new window.XMLHttpRequest;return n.open(r.method||"GET",e),n.addEventListener("load",function(){if(200<=n.status&&n.status<300)if("json"===a)try{t(JSON.parse(n.responseText))}catch(e){s(e)}else t("xml"===a?n.responseXML:"html"===a?(new window.DOMParser).parseFromString(n.responseText,"text/html"):n.responseText);else{var e={status:n.status,body:n.responseText};s(e)}}),n.addEventListener("error",function(){var e={status:n.status,body:n.responseText};s(e)}),r.credentials&&"include"===r.credentials&&(n.withCredentials=!0),r.headers&&Object.keys(r.headers).forEach(function(e){var t=r.headers[e];null!=t&&n.setRequestHeader(e,t)}),"json"===a&&n.overrideMimeType("application/json"),n.send(r.body),n})}